<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script>
      angular.module("myApp", []).controller("MyController", MyController);
      function MyController(){
        const vm = this;
        vm.message = "Hello!";
        vm.isSubmitted = false;
        vm.add = function(){
          if(vm.myForm.$valid){
            alert("Test");
            console.log("Add to database...");
          } else {
            vm.isSubmitted = true;
          }
        }
      }
    </script>
  </head>
  <body>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <!-- <form name="myForm">
        <input type="text" name="name" required 
        ng-minlength="3" ng-maxlength="10" 
        ng-model="name"></input>
    </form>
    <span ng-show="myForm.name.$dirty && myForm.name.$invalid">
        Name should be 3 to 10 characters!!

    </span> -->

    <form name="vm.myForm" ng-controller = "MyController" ng-submit="MyController.add()">
      Please enter age (greater than 9);
      <br/>
      <input type="text" name="age" required ng-pattern="/^[0-9]{2}$/" ng-model = "age"></input>
      <br/>
      <span ng-show="vm.myForm.age.$dirty && vm.myForm.age.$invalid">
        Age must be a number, and greater than 9.
      </span>
      <br/>
      <br/>
      <!-- <input type="text" name="name" required ng-minlength="2" ng-maxlength="10"
      ng-model="name"></input>
      <br/>
      <span ng-show="vm.myForm.name.$dirty && vm.myForm.name.$invalid"> -->
        <!-- Name should be 3 to 10 characters!! -->
        <!-- The field requires 2 to 3 digits.
      </span> -->

      <button type = "submit">Add data</button>
    </form>

   

    <br />---------------------------------------<br />
    <p>Criteria for the first input text field:</p>
    <p>Dirty: {{addGame.$dirty}}</p>
    <!-- $pristine is the opposite of dirty... above code shows false if there is nothing in the input text box, otherwise false-->
    <p>Pristine: {{addGame.$pristine}}</p>
    <p>Valid: {{addGame.$valid}}</p>
    <!-- checks the length of the form from the input attributes and returns true or false, should be >=3 or <=10 -->
    <p>Invalid: {{addGame.$invalid}}</p>
    <p>
      validation is happening on the client-side, also require validation on the
      server side
    </p>
  </body>
</html>
